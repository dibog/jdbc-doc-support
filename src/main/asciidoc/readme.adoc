= Readme
Dieter Bogdoll, <dibog@github.com>
{project.version}, 2019/08/16
:icons: font
:basedir: {docdir}/../../..
:snippets: {basedir}/target/generated-cmd-snippets
:toc:

image:https://img.shields.io/github/license/dibog/clikt-doc-support[link="LICENSE"]
image:https://api.travis-ci.org/dibog/clikt-doc-support.svg?branch=master[link="https://travis-ci.org/dibog/clikt-doc-support"]
image:https://jitpack.io/v/dibog/clikt-doc-support.svg[link="https://jitpack.io/#dibog/clikt-doc-support"]
image:https://img.shields.io/badge/100%25-kotlin-blue.svg[link="https://kotlinlang.org/"]

[discrete]
== Introduction

Test project to support document of https://ajalt.github.io/clikt[CliKt] commands in combination with https://asciidoctor.org/[AsciiDoctor].

To create the snippets just use
----
mvn test
----

and open the `src/main/asciidoc/readme.adoc` in your IDE.

== Example Output

=== Demo Command

.Command overview
include::{snippets}/help-normal.adoc[]

.Example call
[source]
include::{snippets}/cmd-normal.adoc[]

.Example output
include::{snippets}/output-normal.adoc[]

=== Command with sub commands

==== Parent command

.Command overview
include::{snippets}/help-parent.adoc[]

.Example call
[source]
include::{snippets}/cmd-parent.adoc[]

There is no output for this command, as the parent command is of type
`com.github.ajalt.clikt.core.NoRunCliktCommand`.

==== First child command

.Command overview
include::{snippets}/help-first-child.adoc[]

.Example call
[source]
include::{snippets}/cmd-first-child.adoc[]

.Example output
include::{snippets}/output-first-child.adoc[]


==== Second child command

.Command overview
include::{snippets}/help-second-child.adoc[]

.Example call
[source]
include::{snippets}/cmd-second-child.adoc[]

.Example output
include::{snippets}/output-second-child.adoc[]

== How to document those commands

First have at the source of this document `src/main/asciidoc/readme.adoc` to see how
you can include the fragments generated by the test classes.

Then have a look at `src/test/java/io/github/dibog/cliktdoc/TestDemoCmdDoku.kt` and
`src/test/java/io/github/dibog/cliktdoc/TestParentCmdDoku.kt`.

include::{basedir}/src/test/java/io/github/dibog/cliktdoc/TestDemoCmdDoku.kt[tags=demo-command]

<1> the document method is containing the creation of diverse asciidoc snippets which can be included
in the main asciidoc document.
<2> the  list can contain command line arguments to be used for the test
<3> the string is a fragment and is used as part of the snippet name
<4> this code can be empty, it could contain mock settings to be used when calling the command